<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"hisen.me",root:"/",scheme:"Mist",version:"7.8.0",exturl:!1,sidebar:{position:"right",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!0,preload:!0},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"3Hvvge21myiW2jad",ck:"3Hvvge21myiW2jad"})</script><meta name="description" content="零、背景最近做压力测试，不同的系统的机器监控数据差异明显A 系统：CPU 高 load 低B 系统：CPU 低 load 高 那么是什么导致 A B 系统出现这种情况？CPU 高了系统肯定跑不动了，那么 load 多高代表系统跑不动呢？ 一、解释 A 系统的原因  CPU 很忙，没有等待其它资源，瓶颈在 CPU。 B 系统的原因  等待磁盘 I&#x2F;O 完成的进程过多，导致进程队列长度过大，"><meta property="og:type" content="article"><meta property="og:title" content="理解 Linux Load Averages"><meta property="og:url" content="http://hisen.me/20201026-Understanding-Linux-Load-Averages/index.html"><meta property="og:site_name" content="HiSEN"><meta property="og:description" content="零、背景最近做压力测试，不同的系统的机器监控数据差异明显A 系统：CPU 高 load 低B 系统：CPU 低 load 高 那么是什么导致 A B 系统出现这种情况？CPU 高了系统肯定跑不动了，那么 load 多高代表系统跑不动呢？ 一、解释 A 系统的原因  CPU 很忙，没有等待其它资源，瓶颈在 CPU。 B 系统的原因  等待磁盘 I&#x2F;O 完成的进程过多，导致进程队列长度过大，"><meta property="og:locale"><meta property="article:published_time" content="2020-10-26T11:02:56.000Z"><meta property="article:modified_time" content="2025-07-25T15:55:48.680Z"><meta property="article:author" content="hisenyuan"><meta property="article:tag" content="linux"><meta name="twitter:card" content="summary"><link rel="canonical" href="http://hisen.me/20201026-Understanding-Linux-Load-Averages/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-Hans"}</script><title>理解 Linux Load Averages | HiSEN</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">HiSEN</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">Personal Technology Blog</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-booklist"><a href="/booklist" rel="section"><i class="fa fa-list-ol fa-fw"></i>BookList</a></li><li class="menu-item menu-item-aboutme"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>AboutMe</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans"><link itemprop="mainEntityOfPage" href="http://hisen.me/20201026-Understanding-Linux-Load-Averages/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="hisenyuan"><meta itemprop="description" content="Java R & D"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="HiSEN"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">理解 Linux Load Averages</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-10-26 19:02:56" itemprop="dateCreated datePublished" datetime="2020-10-26T19:02:56+08:00">2020-10-26</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2025-07-25 23:55:48" itemprop="dateModified" datetime="2025-07-25T23:55:48+08:00">2025-07-25</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Tech/" itemprop="url" rel="index"><span itemprop="name">Tech</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="零、背景"><a href="#零、背景" class="headerlink" title="零、背景"></a>零、背景</h1><p>最近做压力测试，不同的系统的机器监控数据差异明显<br>A 系统：CPU 高 load 低<br>B 系统：CPU 低 load 高</p><p>那么是什么导致 A B 系统出现这种情况？<br>CPU 高了系统肯定跑不动了，那么 load 多高代表系统跑不动呢？</p><h1 id="一、解释"><a href="#一、解释" class="headerlink" title="一、解释"></a>一、解释</h1><ol><li>A 系统的原因<br>CPU 很忙，没有等待其它资源，瓶颈在 CPU。</li><li>B 系统的原因<br>等待磁盘 I&#x2F;O 完成的进程过多，导致进程队列长度过大，<br>但是 CPU 运行的进程却很少，这样就导致负载过大，但 CPU 使用率低，瓶颈不在 CPU，可能在 I&#x2F;O。</li></ol><h1 id="二、load-averages-知识"><a href="#二、load-averages-知识" class="headerlink" title="二、load averages 知识"></a>二、load averages 知识</h1><ol><li><p>Linux 系统下代表的是 system load averages。</p></li><li><p>Linux load averages track not just runnable tasks, but also tasks in the uninterruptible sleep state.<br>Linux 平均负载不仅跟踪可运行的任务，还跟踪处于不可中断睡眠状态的任务。</p></li><li><p>On Linux, load averages are (or try to be) “system load averages”, for the system as a whole, measuring the number of threads that are working and waiting to work (CPU, disk, uninterruptible locks). Put differently, it measures the number of threads that aren’t completely idle. Advantage: includes demand for different resources.<br>在 Linux 上，负载平均值是(或试图是)“系统负载平均值” ，对于整个系统来说，测量正在工作和等待工作的线程数(CPU、磁盘、不可中断锁)。换句话说，它测量的是没有完全空闲的线程数量。优势: 包括对不同资源的需求。</p></li><li><p>In 1993, a Linux engineer found a nonintuitive case with load averages, and with a three-line patch changed them forever from “CPU load averages” to what one might call “system load averages.” His change included tasks in the uninterruptible state, so that load averages reflected demand for disk resources and not just CPUs.<br>1993年，一位 Linux 工程师发现了一个与平均负载不直观的案例，一个三行补丁永远地将它们从“ CPU 负载平均值”改变为人们可能称之为“系统负载平均值”他的更改包括处于不可中断状态的任务，因此平均负载反映了对磁盘资源的需求，而不仅仅是 cpu。</p></li></ol><h1 id="三、总结"><a href="#三、总结" class="headerlink" title="三、总结"></a>三、总结</h1><ol><li>linux load averages 数字大，代表系统压力大;</li></ol><span id="more"></span><ol start="2"><li>load 高可能的原因有(CPU、I&#x2F;O、不可中断锁);</li><li>load 1min load 5min load 15min，从左到右递增说明负载在增加，递减说明负载在降低;</li><li>负载多大才算高，没有定论，得看是否影响业务，如果业务正常那多半是没有问题的;</li></ol><h1 id="四、load-优化"><a href="#四、load-优化" class="headerlink" title="四、load 优化"></a>四、load 优化</h1><ol><li>优化算法，减少 CPU 计算;</li><li>减少 I&#x2F;O 交互的次数，以及大小;</li><li>分布式系统水平扩展更多的机器;</li></ol><h1 id="五、参考"><a href="#五、参考" class="headerlink" title="五、参考"></a>五、参考</h1><ol><li><a target="_blank" rel="noopener" href="http://www.brendangregg.com/blog/2017-08-08/linux-load-averages.html">Linux Load Averages: Solving the Mystery</a> (发表于 2017 年)</li><li><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2011/07/linux_load_average_explained.html">理解Linux系统负荷</a> （发表于 2011 年）</li><li><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_37886429/article/details/78529681">Linux中CPU使用率低负载高</a></li></ol></div><footer class="post-footer"><div class="post-tags"><a href="/tags/linux/" rel="tag"># linux</a></div><div class="post-nav"><div class="post-nav-item"><a href="/20201019-Java-hotspot-vm-cms-g1-setting-log/" rel="prev" title="Java HotSpot 虚拟机 CMS、G1 参数优化对比记录"><i class="fa fa-chevron-left"></i> Java HotSpot 虚拟机 CMS、G1 参数优化对比记录</a></div><div class="post-nav-item"><a href="/20201030-understanding-computer-storage-unit/" rel="next" title="计算机存储单位 - 以及常识">计算机存储单位 - 以及常识 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%9B%B6%E3%80%81%E8%83%8C%E6%99%AF"><span class="nav-number">1.</span> <span class="nav-text">零、背景</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E8%A7%A3%E9%87%8A"><span class="nav-number">2.</span> <span class="nav-text">一、解释</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E3%80%81load-averages-%E7%9F%A5%E8%AF%86"><span class="nav-number">3.</span> <span class="nav-text">二、load averages 知识</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E6%80%BB%E7%BB%93"><span class="nav-number">4.</span> <span class="nav-text">三、总结</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B%E3%80%81load-%E4%BC%98%E5%8C%96"><span class="nav-number">5.</span> <span class="nav-text">四、load 优化</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E5%8F%82%E8%80%83"><span class="nav-number">6.</span> <span class="nav-text">五、参考</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">hisenyuan</p><div class="site-description" itemprop="description">Java R & D</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">5</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">112</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/hisenyuan" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hisenyuan" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://weibo.com/hisenyuan" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;hisenyuan" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a> </span><span class="links-of-author-item"><a href="https://twitter.com/hisenyuan" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;hisenyuan" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a></span></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://www.yuque.com/ruanyf/weekly" title="https:&#x2F;&#x2F;www.yuque.com&#x2F;ruanyf&#x2F;weekly" rel="noopener" target="_blank">科技爱好者周刊</a></li><li class="links-of-blogroll-item"><a href="https://tech.meituan.com/" title="https:&#x2F;&#x2F;tech.meituan.com" rel="noopener" target="_blank">美团技术团队</a></li><li class="links-of-blogroll-item"><a href="https://www.714.hk/" title="https:&#x2F;&#x2F;www.714.hk" rel="noopener" target="_blank">梦殇国际</a></li></ul></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">hisenyuan</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a></div><br><script id="LA-DATA-WIDGET" crossorigin="anonymous" charset="UTF-8" src="https://v6-widget.51.la/v6/3Hvvge21myiW2jad/quote.js?theme=0&f=12&display=0,1,1,1,1,1,1,1"></script></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><style>[bg-lazy]{background-image:none!important;background-color:#eee!important}</style><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})})</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>